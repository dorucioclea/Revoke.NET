
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="depot_name" content="." />
<meta name="document_id" content="c115ee68-f136-8518-0a52-d614ddd68b18" />
<meta name="document_version_independent_id" content="c115ee68-f136-8518-0a52-d614ddd68b18" />
<meta name="gitcommit" content="https://github.com/rainxh11/Revoke.NET/blob/af02a3835502795d59cb23953bd9fc96114e1ff5/docfx/index.md" />
<meta name="locale" content="en-us" />
<meta name="original_content_git_url" content="https://github.com/rainxh11/Revoke.NET/blob/main/docfx/index.md" />
<meta name="rawTitle" content="" />
<meta name="schema" content="Conceptual" />
<meta name="site_name" content="Docs" />
<meta name="toc_rel" content="toc.json" />
<meta name="updated_at" content="2022-05-18 02:09 AM" />
<meta name="wordCount" content="271" />


  <title>Revoke.NET</title>

  <link rel="stylesheet" href="./dist/docfx.css">
</head>

<body>
  <header>
<nav class="navbar navbar-expand-md navbar-dark">
  <div class="container-xxl">
    <a class="navbar-brand" href="./">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar"></div>
  </div>
</nav>
  </header>

  <main class="container-xxl layout-conceptual page-type-conceptual">
        <nav class="layout-breadcrumb" id="breadcrumb" aria-label="breadcrumb"></nav>

      <nav class="layout-toc">
<div class="sticky-top navbar navbar-expand-md navbar-light bg-white">
  <a class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#toc-pannel" aria-controls="toc-pannel" aria-expanded="false">
    Table of Contents
  </a>
  <div class="collapse navbar-collapse" id="toc-pannel">
    <div>
      <input class="form-control" type="text" id="toc-filter" placeholder="Filter">
      <div class="toc" id="toc"></div>
    </div>
  </div>
</div>
      </nav>

      <article>
        
<ul class="metabar">
  <li>
    <time datetime="5/18/2022">5/18/2022</time>
  </li>
  <li class="readingTime">2 minutes to read</li>
</ul>
        <img src="https://raw.githubusercontent.com/rainxh11/Revoke.NET/master/assets/revoke.net.svg" width="300" data-linktype="external">
<table>
<thead>
<tr>
<th>Package Name</th>
<th>Version</th>
<th>Downloads</th>
</tr>
</thead>
<tbody>
<tr>
<td>Revoke.NET</td>
<td><a href="https://www.nuget.org/packages/Revoke.NET/" data-linktype="external"><img src="https://img.shields.io/nuget/v/Revoke.NET.svg" alt="Latest version" data-linktype="external"/></a></td>
<td><img src="https://img.shields.io/nuget/dt/Revoke.NET.svg" alt="Downloads" data-linktype="external"/></td>
</tr>
<tr>
<td>Revoke.NET.AspNetCore</td>
<td><a href="https://www.nuget.org/packages/Revoke.NET.AspNetCore/" data-linktype="external"><img src="https://img.shields.io/nuget/v/Revoke.NET.AspNetCore.svg" alt="Latest version" data-linktype="external"/></a></td>
<td><img src="https://img.shields.io/nuget/dt/Revoke.NET.AspNetCore.svg" alt="Downloads" data-linktype="external"/></td>
</tr>
<tr>
<td>Revoke.NET.Akavache</td>
<td><a href="https://www.nuget.org/packages/Revoke.NET.Akavache/" data-linktype="external"><img src="https://img.shields.io/nuget/v/Revoke.NET.Akavache.svg" alt="Latest version" data-linktype="external"/></a></td>
<td><img src="https://img.shields.io/nuget/dt/Revoke.NET.Akavache.svg" alt="Downloads" data-linktype="external"/></td>
</tr>
<tr>
<td>Revoke.NET.MongoDB</td>
<td><a href="https://www.nuget.org/packages/Revoke.NET.MongoDB/" data-linktype="external"><img src="https://img.shields.io/nuget/v/Revoke.NET.MongoDB.svg" alt="Latest version" data-linktype="external"/></a></td>
<td><img src="https://img.shields.io/nuget/dt/Revoke.NET.MongoDB.svg" alt="Downloads" data-linktype="external"/></td>
</tr>
<tr>
<td>Revoke.NET.Redis</td>
<td><a href="https://www.nuget.org/packages/Revoke.NET.Redis/" data-linktype="external"><img src="https://img.shields.io/nuget/v/Revoke.NET.Redis.svg" alt="Latest version" data-linktype="external"/></a></td>
<td><img src="https://img.shields.io/nuget/dt/Revoke.NET.Redis.svg" alt="Downloads" data-linktype="external"/></td>
</tr>
<tr>
<td>Revoke.NET.MonkeyCache</td>
<td><a href="https://www.nuget.org/packages/Revoke.NET.MonkeyCache/" data-linktype="external"><img src="https://img.shields.io/nuget/v/Revoke.NET.MonkeyCache.svg" alt="Latest version" data-linktype="external"/></a></td>
<td><img src="https://img.shields.io/nuget/dt/Revoke.NET.MonkeyCache.svg" alt="Downloads" data-linktype="external"/></td>
</tr>
<tr>
<td>Revoke.NET.EasyCache</td>
<td><a href="https://www.nuget.org/packages/Revoke.NET.EasyCache/" data-linktype="external"><img src="https://img.shields.io/nuget/v/Revoke.NET.EasyCache.svg" alt="Latest version" data-linktype="external"/></a></td>
<td><img src="https://img.shields.io/nuget/dt/Revoke.NET.EasyCache.svg" alt="Downloads" data-linktype="external"/></td>
</tr>
</tbody>
</table>
<h1 id="revokenet">Revoke.NET</h1>
<p>.NET Utility to revoke access based on some given criterias including but not limited to:</p>
<ul>
<li>Web Tokens like JWT Bearer token</li>
<li>HTTP Request Header Paramters, Query, URL, Host, IP, Cookies, Body, FormData, Claims...etc</li>
</ul>
<h1 id="installation">Installation</h1>
<p><strong>First</strong>, install the <code>Revoke.NET</code> <a href="https://www.nuget.org/packages/Revoke.NET" data-linktype="external">NuGet package</a> into your app</p>
<pre><code class="lang-powershell">PM&gt; Install-Package Revoke.NET
</code></pre>
<h1 id="how-to-use">How to use</h1>
<p>simple create a new BlackList Store of type <code>IBlackListStore</code></p>
<pre><code class="lang-csharp">using Revoke.NET;

var store = MemoryBlackListStore.CreateStore(); 
// Create a blacklist store, core package come with non-persistent in-memory store

var key = &quot;[ID String of something to be blacklisted]&quot;;

await store.Revoke(key, TimeSpan.FromHours(24)); // Revoke access to a key for 24 hours

var item = store.Get&lt;SomeType&gt;(key); // Retrieve a blacklisted item, SomeType must implement interface 'IBlackListItem'

await store.Revoke&lt;SomeType&gt;(model); // Revoke an item with custom type

await store.IsRevoked(key); // Check if key is blacklisted

await store.Delete(key); // Delete a key from blacklist
</code></pre>
<h1 id="usage-with-aspnet-core">Usage with ASP.NET Core</h1>
<p>Install the <code>Revoke.NET.AspNetCore</code> <a href="https://www.nuget.org/packages/Revoke.NET.AspNetCore" data-linktype="external">NuGet package</a></p>
<pre><code class="lang-powershell">PM&gt; Install-Package Revoke.NET.AspNetCore
</code></pre>
<h3 id="usage">Usage</h3>
<pre><code class="lang-csharp">using Revoke.NET;
using Revoke.NET.AspNetCore;

var builder = WebApplication.CreateBuilder(args);

builder.Services
    .AddRevokeStore(() =&gt; /*  provide a BlackList Store */)
    .AddHttpContextRevokeMiddleware(
        context =&gt; { /* create custom key selector from HttpContext */ },
        response =&gt; { /* create a custom response to be sent when a request is revoked */  }
    ); 
</code></pre>
<h3 id="jwt-bearer-token-example">JWT Bearer Token Example</h3>
<pre><code class="lang-csharp">using System.Net.Http.Headers;
using Microsoft.AspNetCore.Mvc;
using Revoke.NET;
using Revoke.NET.AspNetCore;

var builder = WebApplication.CreateBuilder(args);

builder.Services
    .AddRevokeInMemoryStore() // Register a Revoke Store
    .AddJWTBearerTokenRevokeMiddleware(); // Register a Revoke Middleware

var app = builder.Build();

app.UseRevoke(); // Use Middleware before calling UseAuthorization()

app.UseAuthorization();
app.UseAuthentication();

app.MapGet(&quot;/logout&quot;, async ([FromServices] IBlackListStore store, HttpRequest request) =&gt;
{
    var token = AuthenticationHeaderValue.Parse(request.Headers.Authorization).Parameter;

    await store.Revoke(token);

    return true;
});

app.Run();
</code></pre>


      </article>

      <aside>
        <div class="sticky-top">
          <nav id="in-this-article" class="in-this-article"></nav>
        </div>
      </aside>
  </main>

  <footer>
<div class="container-xxl">

</div>
  </footer>

  <script type="text/javascript" src="./dist/docfx.js"></script>
</body>

</html>